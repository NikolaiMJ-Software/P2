<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <title>Click & Hent</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="./CSS/search_page.css">
</head>
<body>

  <div class="theme-switcher">
    <button id="theme-switcher" ></button>
  </div>
  
  
  <div style="text-align: right;">
    <button class="top-buttons" id="cart_top_button" style="font-family: Arial;" onclick="window.location.href='./cart'">Din kurv (0)</button>
    <button class="top-buttons" id="signup" style="font-family: Arial;" onclick="window.location.href='./signup'">Signup</button>
    <button class="top-buttons" id="login" style="font-family: Arial;" onclick="window.location.href='./login'">Login</button>
    <button class="top-buttons" id="logout" style="display: none;">Logout</button>
    <button class="top-buttons" id="shop" style="display: none;">shop</button>
    <button class="top-buttons" id="admin" style="display: none;">Admin</button>
  </div>
  <button class="top-buttons" id="back" style="text-align: left; translate: 0px -53px;" onclick="window.location.href='./'">Tilbage</button>
  
    <!--Class for title + input to make them align perfectly and be over/under-->
    <div class="productHeader">
        <h1 id="h1ProductPage"></h1>
        <form id="form"> 
            <input type="search" id="inputProductSearch" placeholder="Søg efter et produkt...">
            <!--Add magnifying glass on the right side-->
            <button type="submit">
              <svg width="18" height="18" viewBox="0 0 16 16">
                <path d="M11.1171 9.5107L15.0655 13.3934C15.2415 13.5578 15.3369 13.8096 15.3333 14.0662C15.3285 14.4057 15.17 14.7558 14.9889 14.9434C14.6951 15.2478 14.2575 15.366 14.0395 15.3333C13.8215 15.3007 13.5531 15.1978 13.3658 15.0142L9.47317 11.1404C8.18624 11.9067 7.53573 11.9664 6.79607 12.0343C6.68905 12.0441 6.58016 12.0541 6.4672 12.0665C5.53163 12.1686 3.75434 11.7019 2.47645 10.5439C0.341584 8.60926 -0.13724 4.86336 2.31181 2.35885C3.35365 1.29341 4.87093 0.666748 6.35811 0.666748C7.84528 0.666748 9.2377 1.19694 10.4552 2.40316C12.2172 4.1488 12.6491 7.28044 11.1171 9.5107ZM3.85283 8.81058C4.52445 9.46583 5.38795 9.83342 6.33142 9.83342C7.25889 9.83342 8.15437 9.48182 8.81 8.81058C9.46562 8.13935 9.83342 7.27634 9.83342 6.33341C9.83342 5.39049 9.48162 4.5115 8.81 3.85625C8.13838 3.20099 7.27488 2.83341 6.33142 2.83341C5.38795 2.83341 4.50846 3.20099 3.85283 3.85625C2.49361 5.23067 2.49361 7.45214 3.85283 8.81058Z" 
                fill="#4A7E8F"></path>
              </svg>
            </button>
          </form>
    </div>

    <!-- Filter Menu -->
    <div class="filter-menu">
      <button class="top-buttons" id="filterButton">Brug filter</button>
      <div id="filterDropdown" class="dropdown-content hidden">
        <label>
          <input type="checkbox" id="distanceFilter" value="distance"> Efter afstand
        </label>
        <label>
          <input type="checkbox" id="priceUpwardFilter" value="priceUpward"> Pris ⬆
        </label>
        <label>
          <input type="checkbox" id="priceDownwardFilter" value="priceDownward"> Pris ⬇
        </label>
          <!--  Template for more filters
          <label>
              <input type="checkbox" id="openNowFilter" value="openNow"> Kun butikker åbne nu
          </label>
          -->
          <button id="applyFiltersButton">Tilføj filtre</button>
      </div>
    </div>

    <progress id="loading-progress" value="0" max="100"></progress>

    <!--main class "products" to be filled out with lots of smaller products with unique specifics-->
      <main class="products" id="productList"></main>
      <main class="advert" id="advertList"></main>
    
    

    <script type="module" src="./Javascript/search_page.js"></script>
    <script type="module" src="./Javascript/filter.js"></script>
    <script type="module" src="./Javascript/logout.js"></script>
    <script type="module" src="./Javascript/cart.js"></script>
    <script src="./Javascript/theme.js"></script>

    <script>
      // Kør når siden loader
      document.addEventListener("DOMContentLoaded", function () {
        const isDark = localStorage.getItem("darkMode") === "true";
        document.body.classList.toggle("dark", isDark);
      });
    
      // Toggle dark mode når der klikkes
      document.getElementById("toggleDarkMode").addEventListener("click", function () {
        const isDark = document.body.classList.toggle("dark");
        localStorage.setItem("darkMode", isDark);
      });
    </script>
    


    <!--barrel roll when "½" is clicked-->
    <script>
      let bgIndex = 0;
      document.addEventListener("keydown", function (event) {
       if (event.key.toLowerCase() === "½") { 
        document.body.style.transition = "transform .5s ease-in-out";
        document.body.style.transform = "rotate(360deg)";
        if(bgIndex==0){document.body.style.backgroundImage = "url('https://media1.tenor.com/m/0n2ZAU6ojusAAAAd/steve-minecraft-movie.gif')"; bgIndex++;}
        else{document.body.style.backgroundImage = ""; bgIndex--;}
        document.body.style.backgroundRepeat = "repeat";
        setTimeout(() => {
            document.body.style.transition = "none";
            document.body.style.transform = "none"; // Reset after animation
        }, 500);
       }
      });
    </script>
    <script>
      let city = new URLSearchParams(window.location.search).get("city")
      localStorage.city = city
      localStorage.currentPage = `./searchpage?city=${city}`;
    </script>
    
</body>
</html>